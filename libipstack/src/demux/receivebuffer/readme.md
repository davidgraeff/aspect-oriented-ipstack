# Receiving
Incoming data starts in the Demux class in demux/Demux.h.
All protocols from link layer like ethernet to the transport layers like udp/tcp
insert their own demux_protocol_name methods into that class.
A callstack may look like this:
	demux(ReceiveBuffer*)
		demux_ethernet(ReceiveBuffer*)
			demux_ipv6(ReceiveBuffer*)
				demux_ipv6_payload(ReceiveBuffer*)
					demux_icmpv6(ReceiveBuffer*)
Aspects can use those methods as pointcuts.
TODO

/**
 * Purpose: A receive buffer is generated by the copyPayloadData method,
 * where the received payload data of a network packet is copied to the
 * socket ("userspace" task).
 *
 * To get the next received payload data, call receive() on the socket.
 * You have to free the returned ReceiveBuffer object by calling
 * ReceiveBuffer::free(objectname);
 *
 * If multiple payload data have been received before the socket receive() method is
 * called, the oldest ReceiveBuffer is returned.
 *
 * If you are interested in the sender IP and port of an received UDP datagram,
 * use a typecast, depending on your IP version. 0 is returned if the cast failed.
 * Try the other IP version on a dual-stack then. Example:
 * 
 * ReceiveBuffer* r = socket.receive();
 * ReceiveBufferUDPipV4* r_ipv4 = ReceiveBufferUDPipV4::cast(r);
 * if (r_ipv4) { do something; }
 * ReceiveBufferUDPipV6* r_ipv6 = ReceiveBufferUDPipV6::cast(r);
 */

